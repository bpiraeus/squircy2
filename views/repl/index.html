<div class="row">
	<div class="col-md-8" style="height: 300px">
		<h4>Javascript REPL</h4>
  		<div id="editor" style="width: 100%; height: 100%"></div>
		<a class="form-control btn btn-primary" id="execute" href="/repl/execute">Execute</a>
	</div>
	<div class="col-md-4">
		<h5>Output</h5>
		<pre id="output">
		</pre>
	</div>
</div>
<div class="row">
	
</form>
<div class="row">
	
</div>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/ace.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/ext-searchbox.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/ext-spellcheck.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/ext-static_highlight.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/mode-javascript.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/mode-lisp.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/mode-lua.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/theme-textmate.js"></script>
<script src="//cdn.jsdelivr.net/ace/1.1.7/min/worker-javascript.js"></script>
<script type="text/javascript">
$(function() {
	var editor = ace.edit("editor");
    editor.setTheme("ace/theme/textmate");
    editor.getSession().setMode("ace/mode/javascript");
	editor.resize();
	
	var $execute = $('#execute');
	var $output  = $('#output');
	
	$execute.on('click', function(e) {
		e.preventDefault();
		
		$.ajax({
			url: $execute.attr('href'),
			type: 'post',
			data: {
				script: editor.getValue()
			},
			success: function(response) {
				$output.html(JSON.stringify(response, null, '\t'))
			}
		});
	});
});
</script>